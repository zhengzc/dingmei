<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
			 xmlns:beans="http://www.springframework.org/schema/beans" 
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
			 xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
           http://www.springframework.org/schema/security
           http://www.springframework.org/schema/security/spring-security-3.1.xsd">
	
	<http pattern="/resources/bootstrap3.0.3/**" security="none" />
    <http pattern="/resources/css/**" security="none" />
    <http pattern="/resources/javascripts/**" security="none" />
    <http pattern="/resources/plugin/**" security="none" />
    <http pattern="/resources/img/**" security="none" />

    <http auto-config="true" use-expressions="true" access-denied-page="/login">
        <!-- 不过滤链接 -->
        <!--<intercept-url pattern="/login" filters="none" />-->

        <!--角色配置-->
        <intercept-url pattern="/index/leftTree" access="isAuthenticated()" />

        <intercept-url pattern="/common/page" access="hasRole('u1')" />

        <form-login login-page="/index/login"
                    authentication-failure-url="/index/login?error=true"
                    default-target-url="/common/page?id=1"/>
        <logout logout-url="/j_spring_security_logout"
                invalidate-session="true"
                logout-success-url="/index/login"
                />
    </http>

    <authentication-manager>
        <authentication-provider user-service-ref="customerSpringSecurityUserDetailService">

        </authentication-provider>
    </authentication-manager>

    <beans:bean id="customerSpringSecurityUserDetailService" class="com.dingmei.spring.security.CustomerSpringSecurityUserDetailService">

    </beans:bean>
</beans:beans>